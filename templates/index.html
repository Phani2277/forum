{{define "title"}}Home{{end}}
{{define "content"}}
<h1>Posts</h1>
<form method="get" action="/">
    <select name="category">
        <option value="">All categories</option>
        {{range .Categories}}
        <option value="{{.}}" {{if eq . $.Category}}selected{{end}}>{{.}}</option>
        {{end}}
    </select>
    <button type="submit">Filter</button>
</form>
{{range .Posts}}
<article>
    <h2><a href="/post/{{.ID}}">{{.Title}}</a></h2>
    <p>by {{.Username}} at {{.CreatedAt}}</p>
    <p>{{.Content}}</p>
    <p>Categories: {{range .Categories}}<span>{{.}}</span> {{end}}</p>
    <p>Likes: {{.Likes}} Dislikes: {{.Dislikes}}</p>
</article>
<hr>
{{end}}
{{end}}
{{template "base" .}}
